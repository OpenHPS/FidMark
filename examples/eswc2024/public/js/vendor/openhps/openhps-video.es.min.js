import*as e from"./openhps-core.es.min.js";var t={d:(e,r)=>{for(var i in r)t.o(r,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:r[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},r={};t.d(r,{Fh:()=>o,eB:()=>l,PS:()=>g,gS:()=>h,WH:()=>n,yb:()=>ImageProcessingNode,h7:()=>c,Tn:()=>b,yA:()=>m,aT:()=>d,lc:()=>p});function i(e,t,r,i){var a,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(o=(s<3?a(o):s>3?a(t,r,o):a(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;const s=(e=>{var r={};return t.d(r,e),r})({DataFrame:()=>e.DataFrame,DataObject:()=>e.DataObject,LengthUnit:()=>e.LengthUnit,Matrix3:()=>e.Matrix3,ProcessingNode:()=>e.ProcessingNode,SerializableArrayMember:()=>e.SerializableArrayMember,SerializableMember:()=>e.SerializableMember,SerializableObject:()=>e.SerializableObject});let o=class CameraObject extends s.DataObject{get focalLength(){if(this.cameraMatrix)return[this.cameraMatrix.elements[0],this.cameraMatrix.elements[4]]}get principalPoint(){if(this.cameraMatrix)return[this.cameraMatrix.elements[6],this.cameraMatrix.elements[7]]}get aspect(){return this.width/this.height}get rows(){return this.height}set rows(e){this.height=e}get cols(){return this.width}set cols(e){this.width=e}constructor(e,t,r,i){var a;super(e,t),this.colorOrder=l.RGB,this.width=r||0,this.height=i||0,this.distortionCoefficients=null!==(a=this.distortionCoefficients)&&void 0!==a?a:[0,0,0,0,0]}};var l;i([(0,s.SerializableMember)(),a("design:type",Number)],o.prototype,"width",void 0),i([(0,s.SerializableMember)(),a("design:type",Number)],o.prototype,"height",void 0),i([(0,s.SerializableArrayMember)(Number),a("design:type",Array)],o.prototype,"distortionCoefficients",void 0),i([(0,s.SerializableMember)(),a("design:type",s.Matrix3)],o.prototype,"cameraMatrix",void 0),i([(0,s.SerializableMember)(),a("design:type",Number)],o.prototype,"fps",void 0),i([(0,s.SerializableMember)(),a("design:type",Number)],o.prototype,"colorOrder",void 0),o=i([(0,s.SerializableObject)(),a("design:paramtypes",[String,String,Number,Number])],o),function(e){e[e.RGB=0]="RGB",e[e.BGR=1]="BGR",e[e.GRAYSCALE=2]="GRAYSCALE",e[e.RGBA=3]="RGBA",e[e.BGRA=4]="BGRA"}(l||(l={}));let c=class PerspectiveCameraObject extends o{constructor(e,t,r,i,a=50,s=.1,o=2e3){super(e,t,r,i),this.fov=a,this.near=s,this.far=o}};i([(0,s.SerializableMember)(),a("design:type",Number)],c.prototype,"fov",void 0),i([(0,s.SerializableMember)(),a("design:type",Number)],c.prototype,"near",void 0),i([(0,s.SerializableMember)(),a("design:type",Number)],c.prototype,"far",void 0),c=i([(0,s.SerializableObject)(),a("design:paramtypes",[String,String,Number,Number,Object,Object,Object])],c);let b=class StereoCameraObject extends o{constructor(e,t,r,i){super(e,t),this.eyeSep=.064,this.cameraL=r,this.cameraR=i,void 0!==r&&void 0!==i&&(this.uid=r.uid+i.uid)}};i([(0,s.SerializableMember)(),a("design:type",c)],b.prototype,"cameraL",void 0),i([(0,s.SerializableMember)(),a("design:type",c)],b.prototype,"cameraR",void 0),i([(0,s.SerializableMember)(),a("design:type",Object)],b.prototype,"eyeSep",void 0),b=i([(0,s.SerializableObject)(),a("design:paramtypes",[String,String,c,c])],b);let n=class ImageFrame extends s.DataFrame{get rows(){return this.height}set rows(e){this.height=e}get cols(){return this.width}set cols(e){this.width=e}get source(){return super.source}set source(e){super.source=e}};i([(0,s.SerializableMember)(),a("design:type",Object)],n.prototype,"image",void 0),i([(0,s.SerializableMember)(),a("design:type",Number)],n.prototype,"height",void 0),i([(0,s.SerializableMember)(),a("design:type",Number)],n.prototype,"width",void 0),i([(0,s.SerializableMember)(),a("design:type",Number)],n.prototype,"fourcc",void 0),i([(0,s.SerializableMember)(),a("design:type",Number)],n.prototype,"fps",void 0),n=i([(0,s.SerializableObject)()],n);let p=class VideoFrame extends n{};p=i([(0,s.SerializableObject)()],p);let m=class StereoImageFrame extends s.DataFrame{get source(){return super.source}set source(e){super.source=e}};i([(0,s.SerializableMember)(),a("design:type",n)],m.prototype,"left",void 0),i([(0,s.SerializableMember)(),a("design:type",n)],m.prototype,"right",void 0),m=i([(0,s.SerializableObject)()],m);let d=class StereoVideoFrame extends m{};d=i([(0,s.SerializableObject)()],d);let g=class DepthImageFrame extends n{};i([(0,s.SerializableMember)(),a("design:type",Object)],g.prototype,"depth",void 0),i([(0,s.SerializableMember)(),a("design:type",s.LengthUnit)],g.prototype,"depthUnit",void 0),g=i([(0,s.SerializableObject)()],g);let h=class DepthVideoFrame extends g{};h=i([(0,s.SerializableObject)()],h);class ImageProcessingNode extends s.ProcessingNode{constructor(e){super(e)}process(e){return new Promise(((t,r)=>{e.image?this.processImage(e.image,e).then((r=>{e.image=r,t(e)})).catch(r):t(e)}))}}var y=r.Fh,u=r.eB,S=r.PS,f=r.gS,O=r.WH,v=r.yb,z=r.h7,j=r.Tn,M=r.yA,N=r.aT,x=r.lc;export{y as CameraObject,u as ColorOrder,S as DepthImageFrame,f as DepthVideoFrame,O as ImageFrame,v as ImageProcessingNode,z as PerspectiveCameraObject,j as StereoCameraObject,M as StereoImageFrame,N as StereoVideoFrame,x as VideoFrame};
//# sourceMappingURL=openhps-video.es.min.js.map